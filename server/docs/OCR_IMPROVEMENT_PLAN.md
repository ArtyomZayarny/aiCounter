# План улучшения OCR для счетчиков

## Текущее состояние
- ✅ YOLOv8 интегрирован (но не обучен на счетчиках)
- ✅ EasyOCR работает
- ✅ Базовая предобработка
- ❌ Нет нормализации (deskew)
- ❌ Нет пост-обработки с валидацией
- ❌ Нет PaddleOCR (лучше для цифр)

## План улучшений

### Этап 1: Улучшение нормализации (MVP)
1. Добавить deskew (выравнивание по прямой)
2. Улучшить контрастность (CLAHE)
3. Адаптивная бинаризация
4. Шумоподавление

### Этап 2: Добавить PaddleOCR
1. Интегрировать PaddleOCR (лучше для цифр)
2. Использовать как основной OCR
3. EasyOCR как fallback

### Этап 3: Пост-обработка (критично!)
1. Валидация длины (5-7 цифр)
2. Проверка на уменьшение (если есть история)
3. Фильтрация лет (2012, 2021)
4. Regex валидация (только цифры)

### Этап 4: Обучение YOLOv8 (продакшн)
1. Собрать 40-300 изображений
2. Разметить bounding boxes
3. Обучить модель
4. Использовать обученную модель

## Приоритет
1. **Сейчас**: Этап 1 + 2 + 3 (можно сделать быстро)
2. **Потом**: Этап 4 (требует данных и времени)

